
<div class="flex backgrounds">

  <div class="background-login flex">

    <div>
      <img class="logo-login" src="../../../assets/Logo-Compasso-Branco.svg" alt="">
      <p class="explanation"><strong>Olá,</strong><br> Para continuar navegando de forma segura, faça um cadastro.</p>


    <div class="form">
      <h1 id="register-title">Cadastro</h1>

        <form novalidate (ngSubmit)="register()" [formGroup]="registerForm" style="margin-bottom: 10px;">
          <div class="form-group">
            <div class="flex input-icon" style="align-items: center; position: relative;">
            <input  [ngClass]="{'is-invalid': displayMessage.email }" (input)="registerFail = false"  [class.input-auth-fail]="registerFail" [(ngModel)]="emailValue" matInput placeholder="Usuário" class="form-control" id="email" type="text" formControlName="email">
            <img src="../../../assets/user-icon.svg"  [class.out-input]="emailValue == ''" [class.in-input] ="emailValue != '' && emailValue != ' '"  alt="">
          </div>
            <span class="text-danger" *ngIf="displayMessage.email">
            <p [innerHTML]="displayMessage.email"></p>
          </span>
          </div>

          <div class="form-group">
            <div class="flex input-icon" style="align-items: center;  position: relative;">
            <input [ngClass]="{'is-invalid': displayMessage.password || (validationPassword(passwordValue) == false && passwordValue != '' && passwordValue != ' ')}" (input)="registerFail = false" [class.input-auth-fail]="registerFail" [(ngModel)]="passwordValue" placeholder="Senha" class="form-control" id="password" type="password" formControlName="password">
            <img src="../../../assets/password-icon.svg" alt="" [class.out-input]="passwordValue == '' || passwordValue == ' '"[class.in-input] ="passwordValue != '' && passwordValue != ' '">
          </div>
          <span class="text-danger" [ngClass]="{'is-valid': (validationPassword(passwordValue) == true) || passwordValue == '' || passwordValue == ' '}" [class.rules-password] ="passwordValue != '' && passwordValue != ' '" >
            <p [class.ok] = "passwordValue.length >= 6"> Mínimo 6 caracteres </p>
            <p [class.ok] = "hasCapitalLetter(passwordValue)"> Um caracter maiúsculo </p>
            <p [class.ok] = "hasSpecialCharacter(passwordValue)"> Um caracter especial </p>
            <p [class.ok] = "hasNumber(passwordValue)"> Um número </p>
          </span>
            <span class="text-danger" *ngIf="displayMessage.password">
            <p [innerHTML]="displayMessage.password"></p>
            </span>
          </div>

          <div class="form-group">
            <div class="flex input-icon" style="align-items: center;  position: relative;">
            <input (input)="registerFail = false" [class.input-auth-fail]="registerFail" [(ngModel)]="confirmPasswordValue" placeholder="Confirmação de Senha" class="form-control" id="confirmPassword" type="password" formControlName="confirmPassword" [ngClass]="{'is-invalid': displayMessage.confirmPassword }">
            <img src="../../../assets/password-icon.svg" alt=""  [class.out-input]="confirmPasswordValue == ''" [class.in-input] ="confirmPasswordValue != '' && confirmPasswordValue != ' '">
          </div>
            <span class="text-danger" *ngIf="displayMessage.confirmPassword">
            <p [innerHTML]="displayMessage.confirmPassword"></p>
            </span>
          </div>
        </form>
        <p id="register-fail" *ngIf="registerFail == true" class="text-danger" style="margin-top: 28px;">Ops, parece que algo deu errado no registro! <br>Tente novamente</p>
    </div>
    <div class="form-group">
      <button class="Mark" id="btn-register" [disabled]="!registerForm.valid" type="submit" (click)="register()" [ngClass]="{'auth-fail-button': registerFail == true}"> Continuar</button>
    </div>
    <a [routerLink]="['/account/login']">Já possui uma conta? Faça o <strong>login</strong> </a>
  </div>
  </div>

  <div class="background-notebook">
    <img class="logo" src="../../../assets/Logo-Compasso-Branco.svg" alt="">
  </div>

  <p>
    <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "large" color = "#ffffff" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
  </p>
</div>

